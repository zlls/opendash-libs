'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();Object.defineProperty(exports,'__esModule',{value:!0});function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}var LS_KEY='opendash-user-adapter-local-data',User=function(){function a(b,c,d){_classCallCheck(this,a),this.$q=b,this.$notification=d,this.$lodash=c,this.loading=!1,this.current={},this.data=JSON.parse(localStorage.getItem(LS_KEY))||{}}return _createClass(a,[{key:'login',value:function login(){var c=this.$q.defer();return c.resolve(this.current),c.promise}},{key:'logout',value:function logout(){this.$notification.create('Ausloggen wird nicht unterst\xFCtzt.')}},{key:'register',value:function register(){var c=this.$q.defer();return c.resolve(this.current),c.promise}},{key:'checkAuth',value:function checkAuth(){var b=this.$q.defer();return b.resolve(!0),b.promise}},{key:'checkAuthSync',value:function checkAuthSync(){return!0}},{key:'getData',value:function getData(b){var c=this.$q.defer();return this.data.hasOwnProperty(b)?c.resolve(this.$lodash.cloneDeep(this.data[b])):c.resolve(null),c.promise}},{key:'setData',value:function setData(b,c){var d=this.$q.defer();return this.data[b]=this.$lodash.cloneDeep(c),localStorage.setItem(LS_KEY,JSON.stringify(this.data)),d.resolve(null),d.promise}},{key:'wait',value:function wait(){var b=this.$q.defer();return b.resolve(this.current),b.promise}}]),a}();User.$inject=['$q','lodash','od.notification.service'],exports.default=User;
